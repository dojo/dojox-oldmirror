<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"/>
	<meta name="apple-mobile-web-app-capable" content="yes"/>
	<title>TabBar</title>

	<script type="text/javascript" src="../deviceTheme.js" data-dojo-config="mblThemeFiles: ['base','TabBar']"></script>
	<script type="text/javascript" src="../../../dojo/dojo.js" data-dojo-config="async: true, parseOnLoad: true"></script>

	<script type="text/javascript">
		require([
			"dojo/_base/connect",
			"dojo/ready",
			"dijit/registry",
			"dojox/mobile/parser",
			"dojox/mobile",
			"dojox/mobile/compat",
			"dojox/mobile/TabBar"
		], function(connect, ready, registry){
			ready(function(){
				var w = registry.byId("bar2");
				connect.connect(w, "onCloseButtonClick", null, function(tab){
					var sel = w.getSelectedTab();
					if(!sel || sel === tab){
						var next = tab.getNextSibling() || tab.getPreviousSibling();
						if(next){
							next.defaultClickAction();
						}
					}
				});
			});
		});
	</script>

	<style>
	.label {
		font-family: "Helvetica Neue", Helvetica;
		font-size: 13px;
		margin-top: 20px;
	}
	.view {
		font-size: 30px;
		padding-top: 30px;
		text-align: center;
	}
	</style>
</head>
<body style="visibility:hidden;">
	<div class="label">tabPanel</div>
	<ul id="bar1" data-dojo-type="dojox.mobile.TabBar" data-dojo-props='barType:"tabPanel"'>
		<li data-dojo-type="dojox.mobile.TabBarButton" data-dojo-props='moveTo:"view1", selected:true'>Dashboard</li>
		<li data-dojo-type="dojox.mobile.TabBarButton" data-dojo-props='moveTo:"view2"'>Plan</li>
		<li data-dojo-type="dojox.mobile.TabBarButton" data-dojo-props='moveTo:"view3"'>Today's Main Event</li>
	</ul>

	<ul id="bar2" data-dojo-type="dojox.mobile.TabBar" data-dojo-props='barType:"tabPanel",closable:true'>
		<li data-dojo-type="dojox.mobile.TabBarButton" data-dojo-props='moveTo:"view1", selected:true'>Dashboard</li>
		<li data-dojo-type="dojox.mobile.TabBarButton" data-dojo-props='moveTo:"view2"'>Plan</li>
		<li data-dojo-type="dojox.mobile.TabBarButton" data-dojo-props='moveTo:"view3"'>Today's Main Event</li>
	</ul>

	<div id="view1" data-dojo-type="dojox.mobile.View">
		<div class="view">View 1</div>
	</div>
	<div id="view2" data-dojo-type="dojox.mobile.View">
		<div class="view">View 2</div>
	</div>
	<div id="view3" data-dojo-type="dojox.mobile.View">
		<div class="view">View 3</div>
	</div>
</body>
</html>
